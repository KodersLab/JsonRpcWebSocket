<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>JSON RPC WebSocket</title>
<script src="/socket.io/socket.io.js"></script>
<script src="/bluebird.js"></script>
<script src="/rpc.js"></script>
<script>
var r;
function init(){
	r = new RPC.Client('http://localhost:80');
}

function callServerResolvedMethod(){
	r.invoke('serverResolvedMethod',1,2).then(function(v){
		alert('Resolved: '+v);
	},function(v){
		alert('Rejected: '+v);
	});
}

function callServerRejectedMethod(){
	r.invoke('serverRejectedMethod',1,2).then(function(v){
		alert('Resolved: '+v);
	},function(v){
		alert('Rejected: '+v);
	});
}

function callServerMissingMethod(){
	r.invoke('serverMissingMethod',1,2).then(function(v){
		alert('Resolved: '+v);
	},function(v){
		alert('Rejected: '+v);
	});
}

</script>
</head>

<body onLoad="init();">
	<input type="button" onClick="callServerResolvedMethod()" value="call Resolved Method." />
	<input type="button" onClick="callServerRejectedMethod()" value="call Rejected Method." />
	<input type="button" onClick="callServerMissingMethod()" value="call Missing Method." />
</body>
</html>
